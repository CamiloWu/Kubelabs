# 10. Services <!-- omit in TOC -->

> [Ver los archivos demo](./kubelabs-files-demo)

## 1. Listar Servicios (Services)
```vim
kubectl get service
```

## 2. Por defecto existe el servicio Kubernetes
> Kubernetes ClusterIP

## 3. Describir las propiedades del servicio: etiquetas, IPs, tipo, puertos, namespace
```vim
kubectl describe service kubernetes
```
## 4. Crear un nuevo Deployment con el archivo kube-demo.yml
> [kubelabs-files-demo/kube-demo.yml](./kubelabs-files-demo/kube-demo.yml)
```vim
kubectl apply -f kubelabs-files-demo/kube-demo.yml

kubectl describe pods
```
## 5. kubectl get deployment
```vim
kubectl get rs
```

***Tip***: Listar las imágenes
```vim
kubectl get pods --all-namespaces -o jsonpath="{.items[*].spec.containers[*].image}" |tr -s '[[:space:]]' '\n' |sort |uniq -c
```

[Más filtros de imágenes](https://kubernetes.io/docs/tasks/access-application-cluster/list-all-running-container-images/)
## 6. En el browser acceder a la IP pública:

Se muestra el error:

> NGINX 404 Not Found

## 7. Agregar un servicio para resolver la petición
> [kubelabs-files-demo/nodeport-definition.yml](./kubelabs-files-demo/nodeport-definition.yml)
```vim
kubectl apply -f kubelabs-files-demo/nodeport-definition.yml

kubectl get svc
```

> Probar en browser
```vim
http://<ip-publica>:30080
```
